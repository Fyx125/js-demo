<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>checkbox全选与反选</title>
    <style type="text/css" rel="stylesheet">
        div {
            height: 200px;
            width: 200px;
            margin: 100px auto;
        }
    </style>
</head>
<body>
<div>
    <table id="myTable">
        <thead>
        <tr>
            <th><input type="checkbox"></th>
            <th>商品</th>
            <th>价格</th>
        </tr>
        </thead>
       <tbody>
       <tr>
           <td><input type="checkbox"></td>
           <td>iPhone8</td>
           <td>8000</td>
       </tr>
       <tr>
           <td><input type="checkbox"></td>
           <td>iPad Pro</td>
           <td>5000</td>
       </tr>
       <tr>
           <td><input type="checkbox"></td>
           <td>iPad Air</td>
           <td>2000</td>
       </tr>
       <tr>
           <td><input type="checkbox"></td>
           <td>Apple Watch</td>
           <td>2000</td>
       </tr>
       </tbody>
    </table>
    <input type="button" value="反选" id="btn">
</div>
<script type="text/javascript">
    var selectAll=document.querySelector('#myTable thead input');
    var checkboxs=document.querySelectorAll('#myTable tbody input[type=checkbox]');
    selectAll.onclick=function () {
        for (var i = 0; i < checkboxs.length; i++) {
            checkboxs[i].checked=this.checked;
        }
    };

    for (var i = 0; i < checkboxs.length; i++) {
        checkboxs[i].onclick=function () {
            checkedAll();
        }
    }

    //反选
    var btn=document.getElementById('btn');
    btn.onclick=function () {
        for (var i = 0; i < checkboxs.length; i++) {
            checkboxs[i].checked=!checkboxs[i].checked;
        }
        checkedAll();
    };

    function checkedAll() {
        var isAllChecked=true;
        for (var i = 0; i < checkboxs.length; i++) {
            if (!checkboxs[i].checked){
                isAllChecked=false;
            }
        }
        selectAll.checked=isAllChecked;
    }
</script>
</body>
</html>
